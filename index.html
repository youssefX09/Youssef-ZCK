<!DOCTYPE html>

<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Ø¥Ø¯Ø§Ø±Ø© Ø³Ø§ÙŠØ¨Ø± ÙƒØ§ÙÙŠÙ‡</title>
<style>
/* Multiplayer button styling */
.multiplayer-btn {
    background-color: #9c27b0; /* Purple */
    color: white;
    width: 36px; /* Square shape */
    height: 36px;
    padding: 0;
    font-size: 18px;
    line-height: 36px; /* Center icon vertically */
    text-align: center;
    border: none; /* Added */
    border-radius: 5px; /* Added */
    cursor: pointer; /* Added */
    transition: background-color 0.3s; /* Added */
}

.multiplayer-btn:hover {
    background-color: #7b1fa2; /* Darker purple */
}

.multiplayer-btn.active {
    background-color: #ab47bc; /* Lighter purple */
    box-shadow: inset 0 0 5px rgba(0,0,0,0.3);
}

.multiplayer-btn:disabled {
    background-color: #e0e0e0;
    cursor: not-allowed;
}
.multiplayer-btn.active {
  background-color: #28a745 !important;  /* Ø£Ø®Ø¶Ø± */
  color: white;
  border: none;
}

    </style>
<style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --bg-color: #f0f2f5;
            --text-color: #333;
            --card-bg: #fff;
            --primary-color: #2e4057;
            --primary-hover: #1a2639;
            --border-color: #ddd;
            --success-bg: #e3f2e3;
            --success-color: #2e7d32;
            --warning-bg: #ffefc7;
            --warning-color: #ff8f00;
            --danger-color: #f44336;
            --danger-hover: #d32f2f;
            --success-btn: #4caf50;
            --success-btn-hover: #388e3c;
        }
        
    
        
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background-color 0.3s, color 0.3s;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .login-container {
            background-color: var(--card-bg);
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            padding: 40px;
            max-width: 400px;
            margin: 100px auto;
        }
        
        .login-container h1 {
            text-align: center;
            color: var(--primary-color);
            margin-bottom: 30px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            font-size: 16px;
            background-color: var(--card-bg);
            color: var(--text-color);
        }
        
        .btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 5px;
            padding: 12px 15px;
            width: 100%;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .btn:hover {
            background-color: var(--primary-hover);
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 20px;
        }
        
        .header h1 {
            color: var(--primary-color);
        }
        
        .nav-links {
            display: flex;
        }
        
        .nav-link {
            margin-left: 15px;
            color: var(--primary-color);
            text-decoration: none;
            padding: 8px 12px;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        
        .nav-link:hover, .nav-link.active {
            background-color: var(--primary-color);
            color: white;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .device-box {
            background-color: var(--card-bg);
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.05);
            padding: 20px;
            transition: transform 0.3s;
            position: relative;
        }
        
        .device-box:hover {
            transform: translateY(-5px);
        }
        
        .device-box h3 {
            color: var(--primary-color);
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
        }
        
        .status {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 14px;
            font-weight: normal;
        }
        
        .status.available {
            background-color: var(--success-bg);
            color: var(--success-color);
        }
        
        .status.in-use {
            background-color: var(--warning-bg);
            color: var(--warning-color);
        }
        
        .device-info {
            margin-bottom: 15px;
        }
        
        .device-info p {
            margin-bottom: 8px;
            color: var(--text-color);
        }
        
        .device-actions {
            display: flex;
            justify-content: space-between;
        }
        
        .section-title {
            margin: 30px 0 20px;
            color: var(--primary-color);
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .menu-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .menu-item {
            background-color: var(--card-bg);
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);
            padding: 15px;
            display: flex;
            flex-direction: column;
            position: relative;
        }
        
        .menu-item-name {
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .menu-item-price {
            color: #ff6b6b;
            margin: 5px 0;
        }
        
        .settings-container {
            background-color: var(--card-bg);
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.05);
            padding: 20px;
        }
        
        .settings-form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .settings-section {
            margin-bottom: 20px;
        }
        
        .settings-section h3 {
            margin-bottom: 15px;
            color: var(--primary-color);
        }
        
        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .setting-item label {
            flex: 1;
        }
        
        .setting-item input {
            width: 100px;
        }
        
        .dashboard-page, .food-page, .drinks-page, .settings-page, .report-page {
            display: none;
        }
        
        .active-page {
            display: block;
        }
        
        /* Timer styling */
        .timer {
            font-weight: bold;
            font-size: 18px;
            margin: 10px 0;
            color: var(--primary-color);
        }
        
        /* Control buttons */
        .control-btn {
            padding: 8px 12px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        
        .start-btn {
            background-color: var(--success-btn);
            color: white;
        }
        
        .start-btn:hover {
            background-color: var(--success-btn-hover);
        }
        
        .stop-btn {
            background-color: var(--danger-color);
            color: white;
        }
        
        .stop-btn:hover {
            background-color: var(--danger-hover);
        }
        
        /* New features styling */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background-color: var(--primary-color);
        }
        
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        
        .add-form {
            margin-top: 15px;
            padding: 15px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            background-color: var(--card-bg);
        }
        
        .add-form input {
            margin-bottom: 10px;
        }
        
       
        
        /* Plus button styling */
        .add-new-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: var(--success-btn);
            color: white;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .add-new-btn:hover {
            background-color: var(--success-btn-hover);
            transform: scale(1.1);
        }
        
        .add-new-container {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        /* Modal styling */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
        }
        
        .modal-content {
            background-color: var(--card-bg);
            margin: 15% auto;
            padding: 20px;
            border-radius: 10px;
            width: 80%;
            max-width: 500px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 10px;
        }
        
        .modal-header h3 {
            color: var(--primary-color);
            margin: 0;
        }
        
        .close-modal {
            color: var(--text-color);
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        
        .close-modal:hover {
            color: var(--primary-color);
        }
        
        .modal-body {
            margin-bottom: 20px;
        }
        
        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }
        
        .modal-btn {
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            border: none;
        }
        
        .modal-btn.cancel {
            background-color: #ccc;
            color: var(--text-color);
        }
        
        .modal-btn.confirm {
            background-color: var(--success-btn);
            color: white;
        }
        
        /* Delete button styling */
        .delete-btn {
            position: absolute;
            top: 10px;
            left: 10px;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background-color: var(--danger-color);
            color: white;
            font-size: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border: none;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .device-box:hover .delete-btn,
        .menu-item:hover .delete-btn {
            opacity: 1;
        }
        
        .delete-btn:hover {
            background-color: var(--danger-hover);
        }
        
        /* Delete management section */
        .delete-management {
            margin-top: 20px;
        }
        
        .delete-list {
            max-height: 200px;
            overflow-y: auto;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            padding: 10px;
            margin-bottom: 10px;
        }
        
        .delete-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .delete-item:last-child {
            border-bottom: none;
        }
        
        .delete-item-btn {
            background-color: var(--danger-color);
            color: white;
            border: none;
            border-radius: 5px;
            padding: 5px 10px;
            cursor: pointer;
        }
        
        .delete-item-btn:hover {
            background-color: var(--danger-hover);
        }
        
        /* Daily Report Styling */
        .report-container {
            background-color: var(--card-bg);
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.05);
            padding: 20px;
            margin-top: 20px;
        }
        
        .report-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 10px;
        }
        
        .report-header h3 {
            color: var(--primary-color);
            margin: 0;
        }
        
        .report-actions {
            display: flex;
            gap: 10px;
        }
        
        .report-btn {
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            border: none;
            background-color: var(--primary-color);
            color: white;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .report-btn:hover {
            background-color: var(--primary-hover);
        }
        
        .report-btn i {
            font-size: 16px;
        }
        
        .report-section {
            margin-bottom: 20px;
        }
        
        .report-section h4 {
            color: var(--primary-color);
            margin-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 5px;
        }
        
        .report-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 15px;
        }
        
        .report-table th, .report-table td {
            padding: 10px;
            text-align: right;
            border-bottom: 1px solid var(--border-color);
        }
        
        .report-table th {
            background-color: rgba(0, 0, 0, 0.05);
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .report-table tr:last-child td {
            border-bottom: none;
        }
        
        .report-summary {
            background-color: rgba(0, 0, 0, 0.05);
            border-radius: 5px;
            padding: 15px;
            margin-top: 20px;
        }
        
        .report-summary h4 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }
        
        .summary-item:last-child {
            margin-bottom: 0;
            padding-top: 5px;
            border-top: 1px solid var(--border-color);
            font-weight: bold;
        }
        
        .date-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .date-selector input {
            width: auto;
        }
        
        /* Print styles */
        @media print {
            body {
                background-color: white;
                color: black;
            }
            
            .container {
                max-width: 100%;
                padding: 0;
            }
            
            .header, .nav-links, .report-actions, .settings-form, .btn {
                display: none !important;
            }
            
            .report-container {
                box-shadow: none;
                padding: 0;
            }
            
            .report-header {
                text-align: center;
                border-bottom: 2px solid black;
            }
            
            .report-header h3 {
                color: black;
                font-size: 24px;
            }
            
            .report-table th, .report-table td {
                border: 1px solid #ddd;
            }
            
            .report-summary {
                border: 1px solid #ddd;
                background-color: #f9f9f9;
            }
        }
.small-btn {
    width: auto !important;    /* â† Ù†Ø­Ø· !important Ù„Ø¥Ø¬Ø¨Ø§Ø± Ø§Ù„Ù…ØªØµÙØ­ ÙŠØ·Ø¨Ù‘Ù‚Ù‡ Ø±ØºÙ… Ø£Ù† .btn Ø¹Ù†Ø¯Ù‡ width: 100% */
    padding: 10px 20px;
    font-size: 14px;
    display: inline-block;
    margin-top: 20px;
}
.device-row {
  display: flex;
  gap: 20px;
  margin-bottom: 15px;
  align-items: center;
  flex-wrap: wrap;
}

.device-row .setting-item {
  flex: 1;
  min-width: 220px;
}
.settings-section {
  direction: rtl;
}

.devices-settings-wrapper {
  direction: ltr !important;
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 40px;
  margin-bottom: 20px;
}

.device-settings {
  flex: 1;
  min-width: 250px;
  padding: 15px;
  background-color: rgba(0, 0, 0, 0.03);
  border-radius: 8px;
}
.device-settings.right {
  text-align: right;
  direction: rtl;
}

.device-settings.left {
  text-align: left;
  direction: rtl;
}
.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 20px;
}

.header-left {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}

.logo {
  height: 50px;
  object-fit: contain;
}

.page-logo {
  display: flex;
  flex-direction: column;     /* â† Ø¯Ù‡ ÙŠØ®Ù„ÙŠ Ø§Ù„Ø¹Ù†Ø§ØµØ± ØªØ­Øª Ø¨Ø¹Ø¶ */
  align-items: flex-start;    /* â† ÙŠØ®Ù„ÙŠÙ‡Ù… Ø¹Ù„Ù‰ Ø§Ù„Ø´Ù…Ø§Ù„ */
  padding: 20px 30px 10px;
  gap: 10px;
}

.page-logo img {
  height: 60px;
  width: auto;
}

.logo-text h2 {
  margin: 0;
  font-size: 24px;
  font-family: 'Cursive', serif;
  color: darkgreen;
}

.logo-text p {
  margin: 0;
  font-size: 16px;
  font-style: italic;
  color: darkgreen;
}
.multiplayer-btn.active {
  background-color: #28a745 !important; /* Ø£Ø®Ø¶Ø± */
  color: white;
  border: none;
}
/* Ø²Ø± Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ (Ø²Ø± + Ø§Ù„Ø£Ø­Ù…Ø±) */
.add-product-btn {
  background-color: #d32f2f; /* Ø£Ø­Ù…Ø± */
  color: white;
  font-weight: bold;
  padding: 8px 12px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  transition: background-color 0.3s;
}

.add-product-btn:hover {
  background-color: #b71c1c;
}


    </style>
</head>
<body>
<div class="page-logo">
  <img src="logo.svg" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹">
  <div class="logo-text">
    <h2>Youssef Hammad</h2>
    <p>Developer Zack</p>
  </div>
</div>


<!-- Login Page -->
<div class="login-container" id="login-page">
<h1>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h1>
<form id="login-form">
<div class="form-group">
<input id="username" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" required="" type="text"/>
</div>
<div class="form-group">
<input id="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required="" type="password"/>
</div>
<button class="btn" type="submit">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
</form>
</div>
<!-- Main App -->
<div class="container" id="app" style="display: none;">
<div class="header">
  <div class="header-left">
    <h1>Ø¥Ø¯Ø§Ø±Ø© Ø³Ø§ÙŠØ¨Ø± ÙƒØ§ÙÙŠÙ‡</h1>
    <div class="nav-links">
      <a class="nav-link active" data-page="dashboard" href="#">Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©</a>
      <a class="nav-link" data-page="report" href="#">Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</a>
      <a class="nav-link" data-page="settings" href="#">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</a>
      <a class="nav-link" href="#" id="logout-btn">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</a>
    </div>
  </div>
  <img src="logo.svg" alt="Ù„ÙˆØ¬Ùˆ" class="logo">
</div>

<!-- Dashboard Page (Devices) -->
<div class="dashboard-page active-page" id="dashboard-page">
<div class="section-title">
<h2>Ø£Ø¬Ù‡Ø²Ø© Ø¨Ù„Ø§ÙŠØ³ØªÙŠØ´Ù† 5</h2>
</div>
<div class="dashboard" id="ps5-devices">
<div class="device-box" data-id="ps5-1">
<button class="delete-btn" title="Ø­Ø°Ù">Ã—</button>
<h3>
                        Ø¬Ù‡Ø§Ø² PS5 #1
                        <span class="status available">Ù…ØªØ§Ø­</span>
</h3>
<div class="device-info">
<p>Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø³ØªÙ‡Ù„Ùƒ: <span class="timer">00:00:00</span></p>
<p>Ø§Ù„ØªÙƒÙ„ÙØ©: <span class="cost">0.00</span> Ø¬Ù†ÙŠÙ‡</p>
</div>
<div class="device-actions">
<button class="control-btn start-btn">Ø¨Ø¯Ø¡</button> <button class="control-btn multiplayer-btn" title="ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ø²ÙˆØ¬ÙŠ">2P</button>
<button class="control-btn add-product-btn" title="Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬">+</button>
<button class="control-btn stop-btn" disabled="">Ø¥ÙŠÙ‚Ø§Ù</button>
</div>
</div>
<div class="device-box" data-id="ps5-2">
<button class="delete-btn" title="Ø­Ø°Ù">Ã—</button>
<h3>
                        Ø¬Ù‡Ø§Ø² PS5 #2
                        <span class="status available">Ù…ØªØ§Ø­</span>
</h3>
<div class="device-info">
<p>Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø³ØªÙ‡Ù„Ùƒ: <span class="timer">00:00:00</span></p>
<p>Ø§Ù„ØªÙƒÙ„ÙØ©: <span class="cost">0.00</span> Ø¬Ù†ÙŠÙ‡</p>
</div>
<div class="device-actions">
<button class="control-btn start-btn">Ø¨Ø¯Ø¡</button> <button class="control-btn multiplayer-btn" title="ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ø²ÙˆØ¬ÙŠ">2P</button>
<button class="control-btn add-product-btn" title="Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬">+</button>
<button class="control-btn stop-btn" disabled="">Ø¥ÙŠÙ‚Ø§Ù</button>
</div>
</div>
<div class="device-box" data-id="ps5-3">
<button class="delete-btn" title="Ø­Ø°Ù">Ã—</button>
<h3>
                        Ø¬Ù‡Ø§Ø² PS5 #3
                        <span class="status available">Ù…ØªØ§Ø­</span>
</h3>
<div class="device-info">
<p>Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø³ØªÙ‡Ù„Ùƒ: <span class="timer">00:00:00</span></p>
<p>Ø§Ù„ØªÙƒÙ„ÙØ©: <span class="cost">0.00</span> Ø¬Ù†ÙŠÙ‡</p>
</div>
<div class="device-actions">
<button class="control-btn start-btn">Ø¨Ø¯Ø¡</button> <button class="control-btn multiplayer-btn" title="ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ø²ÙˆØ¬ÙŠ">2P</button>
<button class="control-btn add-product-btn" title="Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬">+</button>
<button class="control-btn stop-btn" disabled="">Ø¥ÙŠÙ‚Ø§Ù</button>
</div>
</div>
<div class="device-box" data-id="ps5-4">
<button class="delete-btn" title="Ø­Ø°Ù">Ã—</button>
<h3>
                        Ø¬Ù‡Ø§Ø² PS5 #4
                        <span class="status available">Ù…ØªØ§Ø­</span>
</h3>
<div class="device-info">
<p>Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø³ØªÙ‡Ù„Ùƒ: <span class="timer">00:00:00</span></p>
<p>Ø§Ù„ØªÙƒÙ„ÙØ©: <span class="cost">0.00</span> Ø¬Ù†ÙŠÙ‡</p>
</div>
<div class="device-actions">
<button class="control-btn start-btn">Ø¨Ø¯Ø¡</button> <button class="control-btn multiplayer-btn" title="ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ø²ÙˆØ¬ÙŠ">2P</button>
<button class="control-btn add-product-btn" title="Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬">+</button>
<button class="control-btn stop-btn" disabled="">Ø¥ÙŠÙ‚Ø§Ù</button>
</div>
</div>
<div class="add-new-container">
<button class="add-new-btn" id="add-ps5-btn">+</button>
</div>
</div>
<div class="section-title">
<h2>Ø£Ø¬Ù‡Ø²Ø© Ø¨Ù„Ø§ÙŠØ³ØªÙŠØ´Ù† 4</h2>
</div>
<div class="dashboard" id="ps4-devices">
<div class="device-box" data-id="ps4-1">
<button class="delete-btn" title="Ø­Ø°Ù">Ã—</button>
<h3>
                        Ø¬Ù‡Ø§Ø² PS4 #1
                        <span class="status available">Ù…ØªØ§Ø­</span>
</h3>
<div class="device-info">
<p>Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø³ØªÙ‡Ù„Ùƒ: <span class="timer">00:00:00</span></p>
<p>Ø§Ù„ØªÙƒÙ„ÙØ©: <span class="cost">0.00</span> Ø¬Ù†ÙŠÙ‡</p>
</div>
<div class="device-actions">
<button class="control-btn start-btn">Ø¨Ø¯Ø¡</button> <button class="control-btn multiplayer-btn" title="ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ø²ÙˆØ¬ÙŠ">2P</button>
<button class="control-btn add-product-btn" title="Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬">+</button>
<button class="control-btn stop-btn" disabled="">Ø¥ÙŠÙ‚Ø§Ù</button>
</div>
</div>
<div class="device-box" data-id="ps4-2">
<button class="delete-btn" title="Ø­Ø°Ù">Ã—</button>
<h3>
                        Ø¬Ù‡Ø§Ø² PS4 #2
                        <span class="status available">Ù…ØªØ§Ø­</span>
</h3>
<div class="device-info">
<p>Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø³ØªÙ‡Ù„Ùƒ: <span class="timer">00:00:00</span></p>
<p>Ø§Ù„ØªÙƒÙ„ÙØ©: <span class="cost">0.00</span> Ø¬Ù†ÙŠÙ‡</p>
</div>
<div class="device-actions">
<button class="control-btn start-btn">Ø¨Ø¯Ø¡</button> <button class="control-btn multiplayer-btn" title="ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ø²ÙˆØ¬ÙŠ">2P</button>
<button class="control-btn add-product-btn" title="Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬">+</button>
<button class="control-btn stop-btn" disabled="">Ø¥ÙŠÙ‚Ø§Ù</button>
</div>
</div>
<div class="device-box" data-id="ps4-3">
<button class="delete-btn" title="Ø­Ø°Ù">Ã—</button>
<h3>
                        Ø¬Ù‡Ø§Ø² PS4 #3
                        <span class="status available">Ù…ØªØ§Ø­</span>
</h3>
<div class="device-info">
<p>Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø³ØªÙ‡Ù„Ùƒ: <span class="timer">00:00:00</span></p>
<p>Ø§Ù„ØªÙƒÙ„ÙØ©: <span class="cost">0.00</span> Ø¬Ù†ÙŠÙ‡</p>
</div>
<div class="device-actions">
<button class="control-btn start-btn">Ø¨Ø¯Ø¡</button> <button class="control-btn multiplayer-btn" title="ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ø²ÙˆØ¬ÙŠ">2P</button>
<button class="control-btn add-product-btn" title="Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬">+</button>
<button class="control-btn stop-btn" disabled="">Ø¥ÙŠÙ‚Ø§Ù</button>
</div>
</div>
<div class="device-box" data-id="ps4-4">
<button class="delete-btn" title="Ø­Ø°Ù">Ã—</button>
<h3>
                        Ø¬Ù‡Ø§Ø² PS4 #4
                        <span class="status available">Ù…ØªØ§Ø­</span>
</h3>
<div class="device-info">
<p>Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø³ØªÙ‡Ù„Ùƒ: <span class="timer">00:00:00</span></p>
<p>Ø§Ù„ØªÙƒÙ„ÙØ©: <span class="cost">0.00</span> Ø¬Ù†ÙŠÙ‡</p>
</div>
<div class="device-actions">
<button class="control-btn start-btn">Ø¨Ø¯Ø¡</button> <button class="control-btn multiplayer-btn" title="ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ø²ÙˆØ¬ÙŠ">2P</button>
<button class="control-btn add-product-btn" title="Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬">+</button>
<button class="control-btn stop-btn" disabled="">Ø¥ÙŠÙ‚Ø§Ù</button>
</div>
</div>
<div class="add-new-container">
<button class="add-new-btn" id="add-ps4-btn">+</button>
</div>
</div>
</div>

<!-- Report Page -->
<div class="report-page" id="report-page">
    <h2 class="section-title">Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</h2>
    <div class="report-container" id="daily-report">
        <div class="report-header">
            <h3>Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙŠÙˆÙ…ÙŠ - <span id="report-date"></span></h3>
            <div class="report-actions">
             <a id="download-txt" class="report-btn" href="#" download>
    <i>ğŸ’¾</i> ØªÙ†Ø²ÙŠÙ„ ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙŠÙˆÙ… (TXT)
</a>

                </button>
            </div>
        </div>
     

        <!-- Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯ -->
<table class="report-table" id="unified-report-table">
    <thead>
        <tr>
            <th>Ø§Ù„Ø¬Ù‡Ø§Ø²</th>
            <th>Ø§Ù„ÙˆÙ‚Øª (Ù…Ù† - Ø¥Ù„Ù‰)</th>
            <th>Ø§Ù„Ø³Ø§Ø¹Ø§Øª</th>
            <th>Ø³Ø¹Ø± Ø§Ù„ÙˆÙ‚Øª</th>
            <th>Ø§Ù„Ù…Ù†ØªØ¬</th>
            <th>Ø³Ø¹Ø± Ø§Ù„Ù…Ù†ØªØ¬</th>
        </tr>
    </thead>
    <tbody id="report-table-body"></tbody>
</table>
    </div>
</div>
<!-- Settings Page -->
<div class="settings-page" id="settings-page">
<h2 class="section-title">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h2>
<div class="settings-container">
<div class="settings-form">
<!-- Original Settings -->
<div class="settings-section">

<h3>Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© (Ù„Ù„Ø³Ø§Ø¹Ø©)</h3>
<div class="devices-settings-wrapper">
  <!-- PS4 ÙÙŠ Ø§Ù„ÙŠÙ…ÙŠÙ† -->
  <div class="device-settings right">
    <div class="setting-item">
      <label>Ø³Ø¹Ø± Ø³Ø§Ø¹Ø© PS4:</label>
      <input id="ps4-price" min="0" type="number" value="30"/>
    </div>
    <div class="setting-item">
      <label> Ø³Ø¹Ø±  Ø§Ù„Ø²ÙˆØ¬ÙŠ Ù€ PS4:</label>
      <input id="multiplayer-price-multiplier-ps4" min="1" step="0.1" type="number" value="1.5"/>
    </div>
  </div>

  <!-- PS5 ÙÙŠ Ø§Ù„Ø´Ù…Ø§Ù„ -->
  <div class="device-settings left">
    <div class="setting-item">
      <label>Ø³Ø¹Ø± Ø³Ø§Ø¹Ø© PS5:</label>
      <input id="ps5-price" min="0" type="number" value="50"/>
    </div>
    <div class="setting-item">
      <label> Ø³Ø¹Ø± Ø§Ù„Ø²ÙˆØ¬ÙŠ PS5:</label>
      <input id="multiplayer-price-multiplier-ps5" min="1" step="0.1" type="number" value="1.5"/>
    </div>
  </div>
</div>


<!-- PlayStation Device Management -->


<!-- Food & Drinks Management -->

<!-- Daily Report Settings -->
<div class="settings-section">
<h3>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙŠÙˆÙ…ÙŠ</h3>
<div class="setting-item">
<label>Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙŠÙˆÙ…ÙŠ Ø¹Ù†Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„:</label>
<label class="toggle-switch">
<input id="show-report-on-login" type="checkbox"/>
<span class="slider"></span>
</label>
</div>
<div class="setting-item">
<label>Ø­ÙØ¸ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹:</label>
<label class="toggle-switch">
<input checked="" id="auto-save-reports" type="checkbox"/>
<span class="slider"></span>
</label>
</div>

</div>


<!-- Delete Management -->



<button class="btn small-btn" id="save-settings">Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>
</div>
</div>
</div>
<!-- Modals -->
<!-- Add Food Modal -->
<div class="modal" id="add-food-modal">
<div class="modal-content">
<div class="modal-header">
<h3>Ø¥Ø¶Ø§ÙØ© Ù…Ø£ÙƒÙˆÙ„Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©</h3>
<span class="close-modal">Ã—</span>
</div>
<div class="modal-body">
<div class="form-group">
<input id="new-food-name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø£ÙƒÙˆÙ„Ø§Øª" required="" type="text"/>
</div>
<div class="form-group">
<input id="new-food-price" min="0" placeholder="Ø§Ù„Ø³Ø¹Ø±" required="" type="number"/>
</div>
</div>
<div class="modal-footer">
<button class="modal-btn cancel" id="cancel-add-food">Ø¥Ù„ØºØ§Ø¡</button>
<button class="modal-btn confirm" id="confirm-add-food">Ø¥Ø¶Ø§ÙØ©</button>
</div>
</div>
</div>
<!-- Add Drink Modal -->
<div class="modal" id="add-drink-modal">
<div class="modal-content">
<div class="modal-header">
<h3>Ø¥Ø¶Ø§ÙØ© Ù…Ø´Ø±ÙˆØ¨Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©</h3>
<span class="close-modal">Ã—</span>
</div>
<div class="modal-body">
<div class="form-group">
<input id="new-drink-name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¨" required="" type="text"/>
</div>
<div class="form-group">
<input id="new-drink-price" min="0" placeholder="Ø§Ù„Ø³Ø¹Ø±" required="" type="number"/>
</div>
</div>
<div class="modal-footer">
<button class="modal-btn cancel" id="cancel-add-drink">Ø¥Ù„ØºØ§Ø¡</button>
<button class="modal-btn confirm" id="confirm-add-drink">Ø¥Ø¶Ø§ÙØ©</button>
</div>
</div>
</div>

<script>
const dailyReports = {};
let deviceProducts = {};
let sessionRecords = []; // Ù„ØªØ®Ø²ÙŠÙ† Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ø¬Ù„Ø³Ø§Øª
let productRecords = []; // Ù„ØªØ®Ø²ÙŠÙ† Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
        // Login functionality
        document.getElementById('login-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            // Simple authentication (in real app, you would validate against a server)
            if (username === 'admin' && password === 'admin') {
                document.getElementById('login-page').style.display = 'none';
                document.getElementById('app').style.display = 'block';
                
                // Show daily report on login if enabled
                if (document.getElementById('show-report-on-login').checked) {
                    showPage('report');
                }
            } else {
                alert('Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©');
            }
        });
        
        // Logout functionality
        document.getElementById('logout-btn').addEventListener('click', function() {
            document.getElementById('login-page').style.display = 'block';
            document.getElementById('app').style.display = 'none';
            document.getElementById('username').value = '';
            document.getElementById('password').value = '';
        });
        
        // Navigation
        const navLinks = document.querySelectorAll('.nav-link');
        const pages = document.querySelectorAll('[id$="-page"]');
        
        function showPage(pageId) {
            // Update active nav link
            navLinks.forEach(link => {
                if (link.getAttribute('data-page') === pageId) {
                    link.classList.add('active');
                } else if (link.id !== 'logout-btn') {
                    link.classList.remove('active');
                }
            });
            
            // Show selected page
            pages.forEach(page => {
                if (page.id === pageId + '-page') {
                    page.classList.add('active-page');
                } else {
                    page.classList.remove('active-page');
                }
            });
            
            // Update delete lists when settings page is shown
            if (pageId === 'settings') {
                updateDeleteLists();
            }
            
            // Update report date when report page is shown
            if (pageId === 'report') {
                updateReportDate();
            }
        }
        
        navLinks.forEach(link => {
            if (link.id !== 'logout-btn') {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetPage = this.getAttribute('data-page');
                    showPage(targetPage);
                });
            }
        });
        function setupDeleteButtons() {
  const deleteButtons = document.querySelectorAll('.delete-btn');
  deleteButtons.forEach(deleteBtn => {
    deleteBtn.onclick = function () {
      const deviceBox = deleteBtn.closest('.device-box');
      if (deviceBox) deviceBox.remove();
    };
  });
}
function updateDeviceNumbers(containerId, deviceType) {
  const deviceBoxes = document.querySelectorAll(`#${containerId} .device-box`);
  deviceBoxes.forEach((box, index) => {
    const title = box.querySelector('h3');
    if (title) {
      title.innerHTML = `Ø¬Ù‡Ø§Ø² ${deviceType} #${index + 1} <span class="status available">Ù…ØªØ§Ø­</span>`;
    }
  });
}

        // Device Timer functionality
        let sessionData = [];
        
        function setupDeviceTimers() {
            document.querySelectorAll('.device-box').forEach((deviceBox, index) => {
                const startBtn = deviceBox.querySelector('.start-btn');
                const stopBtn = deviceBox.querySelector('.stop-btn');
            const multiplayerBtn = deviceBox.querySelector('.multiplayer-btn'); // Added
            let isMultiplayer = false; // Added
                const timerEl = deviceBox.querySelector('.timer');
                const costEl = deviceBox.querySelector('.cost');
                const statusEl = deviceBox.querySelector('.status');
                const deviceId = deviceBox.getAttribute('data-id');
                
                if (!startBtn || !stopBtn || !timerEl || !costEl || !statusEl) return;
                
                let timerInterval;
                let seconds = 0;
                let sessionStartTime;
multiplayerBtn.addEventListener('click', function () {
  if (startBtn.disabled) {
    alert('Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØºÙŠÙŠØ± ÙˆØ¶Ø¹ Ø§Ù„Ù„Ø¹Ø¨ Ø£Ø«Ù†Ø§Ø¡ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¬Ù‡Ø§Ø².');
    return;
  }
  isMultiplayer = !isMultiplayer;
  this.classList.toggle('active', isMultiplayer);
  this.title = isMultiplayer ? 'Ø¥Ù„ØºØ§Ø¡ ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ø²ÙˆØ¬ÙŠ' : 'ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ø²ÙˆØ¬ÙŠ';
});

                
                startBtn.addEventListener('click', function() {
                    // Record session start
 deviceProducts[deviceId] = [];
                    sessionStartTime = new Date();
                    
                    // Start timer
                    timerInterval = setInterval(function() {
                        seconds++;
                        const hours = Math.floor(seconds / 3600);
                        const minutes = Math.floor((seconds % 3600) / 60);
                        const secs = seconds % 60;
                        
                        // Format time
                        timerEl.textContent = 
                            (hours < 10 ? '0' + hours : hours) + ':' +
                            (minutes < 10 ? '0' + minutes : minutes) + ':' +
                            (secs < 10 ? '0' + secs : secs);
                        
                        // Calculate cost
                        const isPS5 = deviceBox.querySelector('h3').textContent.includes('PS5');
                        const hourlyRate = isPS5 ? 
                            parseFloat(document.getElementById('ps5-price').value) : 
                            parseFloat(document.getElementById('ps4-price').value);
                        let currentRate = hourlyRate;
                        if (isMultiplayer) {
                            let multiplier = 1.5;
if (isPS5) {
  const ps5Multiplier = document.getElementById('multiplayer-price-multiplier-ps5');
  multiplier = ps5Multiplier ? parseFloat(ps5Multiplier.value) : 1.5;
} else {
  const ps4Multiplier = document.getElementById('multiplayer-price-multiplier-ps4');
  multiplier = ps4Multiplier ? parseFloat(ps4Multiplier.value) : 1.5;
}

                            currentRate *= Math.max(1, multiplier); // Ensure multiplier is at least 1
                        }
                        const cost = (seconds / 3600) * currentRate;
                        costEl.textContent = cost.toFixed(2);
                        
                    }, 1000);
                    
                    // Update UI
                    startBtn.disabled = true;
                    stopBtn.disabled = false;
                    statusEl.textContent = 'Ù‚ÙŠØ¯ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…';
                    statusEl.classList.remove('available');
                    statusEl.classList.add('in-use');
                    multiplayerBtn.disabled = true; // Disable multiplayer toggle when running
                });
                
                stopBtn.addEventListener('click', function() {
                    // Stop timer
                    clearInterval(timerInterval);
                    
                    // Record session data
                    const sessionEndTime = new Date();
                    const sessionDuration = seconds;
                    const isPS5 = deviceBox.querySelector('h3').textContent.includes('PS5');
                    const deviceName = deviceBox.querySelector('h3').textContent.trim().split('\n')[0].trim();
                    const hourlyRate = isPS5 ? 
                        parseFloat(document.getElementById('ps5-price').value) : 
                        parseFloat(document.getElementById('ps4-price').value);
                    const finalCost = parseFloat(costEl.textContent);
                    
                    sessionData.push({
                        deviceId: deviceId,
                        deviceName: deviceName,
                        startTime: sessionStartTime,
                        endTime: sessionEndTime,
                        duration: sessionDuration,
                        cost: finalCost,
                        date: sessionStartTime.toISOString().split('T')[0]
                    });

            if (seconds === 0) {
    alert("Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¥Ù†Ù‡Ø§Ø¡ Ø¬Ù„Ø³Ø© Ù…Ø¯ØªÙ‡Ø§ ØµÙØ±.");
    return;
}
        
 
    const sessionRecord = {
        deviceId: deviceId,
        deviceName: deviceBox.querySelector('h3').textContent.split('#')[0].trim(),
        startTime: sessionStartTime,
        endTime: sessionEndTime,
        duration: seconds,
        cost: finalCost,
        isMultiplayer: isMultiplayer,
        products: deviceProducts[deviceId] || []
    };

sessionRecords.push(sessionRecord);
updateReportTable();

// âœ… Ø­ÙØ¸ Ø§Ù„Ø¬Ù„Ø³Ø© ÙÙŠ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù†ØµÙŠ
const dateKey = sessionStartTime.toISOString().split('T')[0];

if (!dailyReports[dateKey]) dailyReports[dateKey] = [];
dailyReports[dateKey].push(sessionRecord);

generateTextReportForDate(dateKey);

deviceProducts[deviceId] = [];



                    // Update UI
                    startBtn.disabled = false;
                    stopBtn.disabled = true;
            multiplayerBtn.disabled = false; // Ensure enabled initially

        
                    statusEl.textContent = 'Ù…ØªØ§Ø­';
                    statusEl.classList.remove('in-use');
                    statusEl.classList.add('available');
                    
                    // Alert total cost
                    alert(`ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø¬Ù„Ø³Ø©. Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©: ${finalCost} Ø¬Ù†ÙŠÙ‡`);
                    
                    // Reset timer and cost
                    seconds = 0;
                    timerEl.textContent = '00:00:00';
                    costEl.textContent = '0.00';
                    multiplayerBtn.disabled = false; // Re-enable multiplayer toggle when stopped
                    // Optionally reset multiplayer state on stop
                    // isMultiplayer = false;
                    // multiplayerBtn.classList.remove('active');
                    // multiplayerBtn.title = 'ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ø²ÙˆØ¬ÙŠ';
                    
                    // Update report data
                    updateReportData();
                });
            });
        }
        
        // Initialize device timers
        setupDeviceTimers();
        setupDeleteButtons();
setupAddProductButtons();

        // Save settings
       document.getElementById('save-settings').addEventListener('click', function() {
    const ps5Price = document.getElementById('ps5-price').value;
    const ps4Price = document.getElementById('ps4-price').value;

    const ps5Multi = document.getElementById('multiplayer-price-multiplier-ps5').value;
    const ps4Multi = document.getElementById('multiplayer-price-multiplier-ps4').value;

    // ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… localStorage Ù„Ø§Ø­Ù‚Ù‹Ø§ Ø¥Ø°Ø§ Ø£Ø±Ø¯Øª Ø­ÙØ¸Ù‡Ù… Ø¯Ø§Ø¦Ù…Ù‹Ø§
    console.log('Saving settings:', {
        ps5Price,
        ps4Price,
        ps5Multi,
        ps4Multi
    });

    alert('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨Ù†Ø¬Ø§Ø­');
});

        
        // Modal functionality
        function setupModals() {
            // Get all modals
            const modals = document.querySelectorAll('.modal');
            
            // Get all close buttons
            const closeButtons = document.querySelectorAll('.close-modal, .modal-btn.cancel');
            
            // Close modal when clicking close button or cancel button
            closeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const modal = this.closest('.modal');
                    modal.style.display = 'none';
                });
            });
            
            // Close modal when clicking outside of modal content
            window.addEventListener('click', function(event) {
                modals.forEach(modal => {
                    if (event.target === modal) {
                        modal.style.display = 'none';
                    }
                });
            });
        }
        
        // Initialize modals
        setupModals();
        
  
        
       // Ø²Ø± Ø¥Ø¶Ø§ÙØ© PS5 Ù…Ø¨Ø§Ø´Ø± Ø¨Ø¯ÙˆÙ† Ù…ÙˆØ¯Ø§Ù„
document.getElementById('add-ps5-btn').addEventListener('click', function () {
    const ps5Devices = document.querySelectorAll('#ps5-devices .device-box');
    const nextNumber = ps5Devices.length + 1;

    const ps5Container = document.getElementById('ps5-devices');
    const newDevice = document.createElement('div');
    const uniqueId = 'ps5-' + nextNumber;
    newDevice.className = 'device-box';
    newDevice.setAttribute('data-id', uniqueId);
    newDevice.innerHTML = `
        <button class="delete-btn" title="Ø­Ø°Ù">Ã—</button>
        <h3>Ø¬Ù‡Ø§Ø² PS5 #${nextNumber} <span class="status available">Ù…ØªØ§Ø­</span></h3>
        <div class="device-info">
            <p>Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø³ØªÙ‡Ù„Ùƒ: <span class="timer">00:00:00</span></p>
            <p>Ø§Ù„ØªÙƒÙ„ÙØ©: <span class="cost">0.00</span> Ø¬Ù†ÙŠÙ‡</p>
        </div>
        <div class="device-actions">
            <button class="control-btn start-btn">Ø¨Ø¯Ø¡</button>
            <button class="control-btn multiplayer-btn" title="ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ø²ÙˆØ¬ÙŠ">2P</button>
            <button class="control-btn add-product-btn" title="Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬">+</button>
            <button class="control-btn stop-btn" disabled>Ø¥ÙŠÙ‚Ø§Ù</button>
        </div>
    `;

    const addBtnContainer = document.querySelector('#ps5-devices .add-new-container');
    ps5Container.insertBefore(newDevice, addBtnContainer);

    // ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ù„ÙƒÙ„ Ø¬Ù‡Ø§Ø² Ø¬Ø¯ÙŠØ¯
    setupDeviceTimers();
    setupDeleteButtons();
    setupAddProductButtons(); // â† Ù…Ù‡Ù… Ø¬Ø¯Ù‹Ø§
});



// Ø²Ø± Ø¥Ø¶Ø§ÙØ© PS4 Ù…Ø¨Ø§Ø´Ø± Ø¨Ø¯ÙˆÙ† Ù…ÙˆØ¯Ø§Ù„
document.getElementById('add-ps4-btn').addEventListener('click', function () {
    const ps4Devices = document.querySelectorAll('#ps4-devices .device-box');
    const nextNumber = ps4Devices.length + 1;

    const ps4Container = document.getElementById('ps4-devices');
    const newDevice = document.createElement('div');
    const uniqueId = 'ps4-' + nextNumber;
    newDevice.className = 'device-box';
    newDevice.setAttribute('data-id', uniqueId);
    newDevice.innerHTML = `
        <button class="delete-btn" title="Ø­Ø°Ù">Ã—</button>
        <h3>Ø¬Ù‡Ø§Ø² PS4 #${nextNumber} <span class="status available">Ù…ØªØ§Ø­</span></h3>
        <div class="device-info">
            <p>Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø³ØªÙ‡Ù„Ùƒ: <span class="timer">00:00:00</span></p>
            <p>Ø§Ù„ØªÙƒÙ„ÙØ©: <span class="cost">0.00</span> Ø¬Ù†ÙŠÙ‡</p>
        </div>
        <div class="device-actions">
            <button class="control-btn start-btn">Ø¨Ø¯Ø¡</button>
            <button class="control-btn multiplayer-btn" title="ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ø²ÙˆØ¬ÙŠ">2P</button>
            <button class="control-btn add-product-btn" title="Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬">+</button>
            <button class="control-btn stop-btn" disabled>Ø¥ÙŠÙ‚Ø§Ù</button>
        </div>
    `;

    const addBtnContainer = document.querySelector('#ps4-devices .add-new-container');
    ps4Container.insertBefore(newDevice, addBtnContainer);

    // ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ù„ÙƒÙ„ Ø¬Ù‡Ø§Ø² Ø¬Ø¯ÙŠØ¯
    setupDeviceTimers();
    setupDeleteButtons();
    setupAddProductButtons(); // â† Ù…Ù‡Ù… Ø¬Ø¯Ù‹Ø§
});



        
        // Generate unique ID
        function generateUniqueId(prefix) {
            return prefix + '-' + Date.now() + '-' + Math.floor(Math.random() * 1000);
        }
        
        // Sales data for reports
        let salesData = {
            food: [
                { id: 'food-1', name: 'Ø³Ø§Ù†Ø¯ÙˆÙŠØªØ´ Ø¨Ø±Ø¬Ø±', price: 45, quantity: 8, total: 360 },
                { id: 'food-2', name: 'Ø¨ÙŠØªØ²Ø§', price: 60, quantity: 5, total: 300 },
                { id: 'food-3', name: 'Ø¨Ø·Ø§Ø·Ø³', price: 25, quantity: 12, total: 300 }
            ],
            drinks: [
                { id: 'drink-1', name: 'Ù‚Ù‡ÙˆØ©', price: 15, quantity: 15, total: 225 },
                { id: 'drink-2', name: 'Ø´Ø§ÙŠ', price: 10, quantity: 10, total: 100 },
                { id: 'drink-4', name: 'ÙƒÙˆÙ„Ø§', price: 15, quantity: 20, total: 300 }
            ]
        };
        
        // Add item to sales data
        function addItemToSales(type, id, name, price, quantity = 1) {
            const total = price * quantity;
            const existingItem = salesData[type].find(item => item.id === id);
            
            if (existingItem) {
                existingItem.quantity += quantity;
                existingItem.total += total;
            } else {
                salesData[type].push({ id, name, price, quantity, total });
            }
            
            // Update report data
            updateReportData();
        }
        
        // Setup add to cart buttons
        function setupAddToCartButtons() {
            // Food items
            document.querySelectorAll('#food-container .menu-item').forEach(item => {
                const addBtn = item.querySelector('.start-btn');
                const itemId = item.getAttribute('data-id');
                const itemName = item.querySelector('.menu-item-name').textContent;
                const itemPrice = parseFloat(item.querySelector('.menu-item-price').textContent);
                
                addBtn.addEventListener('click', function() {
                    addItemToSales('food', itemId, itemName, itemPrice);
                    alert(`ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© ${itemName} Ø¥Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨Ø§Øª`);
                });
            });
            
            // Drink items
            document.querySelectorAll('#drinks-container .menu-item').forEach(item => {
                const addBtn = item.querySelector('.start-btn');
                const itemId = item.getAttribute('data-id');
                const itemName = item.querySelector('.menu-item-name').textContent;
                const itemPrice = parseFloat(item.querySelector('.menu-item-price').textContent);
                
                addBtn.addEventListener('click', function() {
                    addItemToSales('drinks', itemId, itemName, itemPrice);
                    alert(`ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© ${itemName} Ø¥Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨Ø§Øª`);
                });
            });
        }
        
        // Initialize add to cart buttons
        setupAddToCartButtons();
        
        // Confirm Add Food
        document.getElementById('confirm-add-food').addEventListener('click', function() {
            const foodName = document.getElementById('new-food-name').value;
            const foodPrice = document.getElementById('new-food-price').value;
            
            if (!foodName || !foodPrice) {
                alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø£ÙƒÙˆÙ„Ø§Øª ÙˆØ§Ù„Ø³Ø¹Ø±');
                return;
            }
            
            // Create new food item
            const foodContainer = document.getElementById('food-container');
            const newFoodItem = document.createElement('div');
            const uniqueId = generateUniqueId('food');
            newFoodItem.className = 'menu-item';
            newFoodItem.setAttribute('data-id', uniqueId);
            newFoodItem.innerHTML = `
                <button class="delete-btn" title="Ø­Ø°Ù">Ã—</button>
                <span class="menu-item-name">${foodName}</span>
                <span class="menu-item-price">${foodPrice} Ø¬Ù†ÙŠÙ‡</span>
                <button class="control-btn start-btn">Ø¥Ø¶Ø§ÙØ©</button>
            `;
            
            // Insert before the add button container
            const addBtnContainer = document.querySelector('#food-container .add-new-container');
            foodContainer.insertBefore(newFoodItem, addBtnContainer);
            
            // Setup delete button
            setupDeleteButtons();
            setupAddToCartButtons();
            setupAddProductButtons();

            // Close modal and reset form
            document.getElementById('add-food-modal').style.display = 'none';
            document.getElementById('new-food-name').value = '';
            document.getElementById('new-food-price').value = '';
            
            // Update delete lists
            updateDeleteLists();
            
            alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø£ÙƒÙˆÙ„Ø§Øª Ø¨Ù†Ø¬Ø§Ø­');
        });
        
        // Confirm Add Drink
        document.getElementById('confirm-add-drink').addEventListener('click', function() {
            const drinkName = document.getElementById('new-drink-name').value;
            const drinkPrice = document.getElementById('new-drink-price').value;
            
            if (!drinkName || !drinkPrice) {
                alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¨ ÙˆØ§Ù„Ø³Ø¹Ø±');
                return;
            }
            
            // Create new drink item
            const drinkContainer = document.getElementById('drinks-container');
            const newDrinkItem = document.createElement('div');
            const uniqueId = generateUniqueId('drink');
            newDrinkItem.className = 'menu-item';
            newDrinkItem.setAttribute('data-id', uniqueId);
            newDrinkItem.innerHTML = `
                <button class="delete-btn" title="Ø­Ø°Ù">Ã—</button>
                <span class="menu-item-name">${drinkName}</span>
                <span class="menu-item-price">${drinkPrice} Ø¬Ù†ÙŠÙ‡</span>
                <button class="control-btn start-btn">Ø¥Ø¶Ø§ÙØ©</button>
            `;
            
            // Insert before the add button container
            const addBtnContainer = document.querySelector('#drinks-container .add-new-container');
            drinkContainer.insertBefore(newDrinkItem, addBtnContainer);
            
            // Setup delete button
            setupDeleteButtons();
            
            // Setup add to cart button
            setupAddToCartButtons();
setupAddProductButtons();

            
            // Close modal and reset form
            document.getElementById('add-drink-modal').style.display = 'none';
            document.getElementById('new-drink-name').value = '';
            document.getElementById('new-drink-price').value = '';
            
            // Update delete lists
            updateDeleteLists();
            
            alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø´Ø±ÙˆØ¨ Ø¨Ù†Ø¬Ø§Ø­');
        });
        
        // Confirm Add PS5
        document.getElementById('confirm-add-ps5').addEventListener('click', function() {
            const deviceNumber = document.getElementById('new-ps5-number').value;
            
            if (!deviceNumber) {
                alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ø§Ù„Ø¬Ù‡Ø§Ø²');
                return;
            }
            
            // Create new PS5 device
            const ps5Container = document.getElementById('ps5-devices');
            const newPS5Device = document.createElement('div');
            const uniqueId = generateUniqueId('ps5');
            newPS5Device.className = 'device-box';
            newPS5Device.setAttribute('data-id', uniqueId);
            newPS5Device.innerHTML = `
  <button class="delete-btn" title="Ø­Ø°Ù">Ã—</button>
  <h3>
      Ø¬Ù‡Ø§Ø² PS5 #${deviceNumber}
      <span class="status available">Ù…ØªØ§Ø­</span>
  </h3>
  <div class="device-info">
      <p>Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø³ØªÙ‡Ù„Ùƒ: <span class="timer">00:00:00</span></p>
      <p>Ø§Ù„ØªÙƒÙ„ÙØ©: <span class="cost">0.00</span> Ø¬Ù†ÙŠÙ‡</p>
  </div>
  <div class="device-actions">
      <button class="control-btn start-btn">Ø¨Ø¯Ø¡</button>
      <button class="control-btn multiplayer-btn" title="ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ø²ÙˆØ¬ÙŠ">2P</button>
      <button class="control-btn add-product-btn" title="Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬">+</button>
      <button class="control-btn stop-btn" disabled>Ø¥ÙŠÙ‚Ø§Ù</button>
  </div>
`;

            
            // Insert before the add button container
            const addBtnContainer = document.querySelector('#ps5-devices .add-new-container');
            ps5Container.insertBefore(newPS5Device, addBtnContainer);
            setupAddProductButtons();
            // Setup delete button
            setupDeleteButtons();
setupAddProductButtons();

            
            // Close modal and reset form
            document.getElementById('add-ps5-modal').style.display = 'none';
            document.getElementById('new-ps5-number').value = '';
            
            // Setup timer for new device
            setupDeviceTimers();
            setupDeleteButtons();
           setupAddProductButtons();
            updateDeleteLists();
            
            alert(`ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø¬Ù‡Ø§Ø² PS5 #${deviceNumber} Ø¨Ù†Ø¬Ø§Ø­`);
        });
        
        // Confirm Add PS4
        document.getElementById('confirm-add-ps4').addEventListener('click', function() {
            const deviceNumber = document.getElementById('new-ps4-number').value;
            
            if (!deviceNumber) {
                alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ø§Ù„Ø¬Ù‡Ø§Ø²');
                return;
            }
            
            // Create new PS4 device
            const ps4Container = document.getElementById('ps4-devices');
            const newPS4Device = document.createElement('div');
            const uniqueId = generateUniqueId('ps4');
            newPS4Device.className = 'device-box';
            newPS4Device.setAttribute('data-id', uniqueId);
         newPS4Device.innerHTML = `
  <button class="delete-btn" title="Ø­Ø°Ù">Ã—</button>
  <h3>
      Ø¬Ù‡Ø§Ø² PS4 #${deviceNumber}
      <span class="status available">Ù…ØªØ§Ø­</span>
  </h3>
  <div class="device-info">
      <p>Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø³ØªÙ‡Ù„Ùƒ: <span class="timer">00:00:00</span></p>
      <p>Ø§Ù„ØªÙƒÙ„ÙØ©: <span class="cost">0.00</span> Ø¬Ù†ÙŠÙ‡</p>
  </div>
  <div class="device-actions">
      <button class="control-btn start-btn">Ø¨Ø¯Ø¡</button>
      <button class="control-btn multiplayer-btn" title="ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ø²ÙˆØ¬ÙŠ">2P</button>
      <button class="control-btn add-product-btn" title="Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬">+</button>
      <button class="control-btn stop-btn" disabled>Ø¥ÙŠÙ‚Ø§Ù</button>
  </div>
`;

            
            // Insert before the add button container
            const addBtnContainer = document.querySelector('#ps4-devices .add-new-container');
            ps4Container.insertBefore(newPS4Device, addBtnContainer);
          setupDeviceTimers();
setupDeleteButtons();
setupAddProductButtons();

            
            // Close modal and reset form
            document.getElementById('add-ps4-modal').style.display = 'none';
            document.getElementById('new-ps4-number').value = '';
            
            // Setup timer for new device
            setupDeviceTimers();
            setupDeleteButtons();
          setupAddProductButtons();
            updateDeleteLists();
            
            alert(`ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø¬Ù‡Ø§Ø² PS4 #${deviceNumber} Ø¨Ù†Ø¬Ø§Ø­`);
        });
        
        // Add from Settings
       document.getElementById('add-device-btn').addEventListener('click', function () {
    const deviceType = document.getElementById('new-device-type').value;

    let nextDeviceNumber = 1;
    const existingDevices = document.querySelectorAll(`#${deviceType.toLowerCase()}-devices .device-box`);
    if (existingDevices.length > 0) {
        // Ø§Ø³ØªØ®Ø±Ø¬ Ø¢Ø®Ø± Ø±Ù‚Ù… Ø¬Ù‡Ø§Ø² Ù…ÙˆØ¬ÙˆØ¯
        const lastDevice = existingDevices[existingDevices.length - 1];
        const title = lastDevice.querySelector('h3').textContent;
        const match = title.match(/#(\d+)/);
        if (match) {
            nextDeviceNumber = parseInt(match[1]) + 1;
        }
    }

    // Ø¬Ù‡Ø² Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
    if (deviceType === 'PS5') {
        document.getElementById('new-ps5-number').value = nextDeviceNumber;
        document.getElementById('confirm-add-ps5').click();
    } else {
        document.getElementById('new-ps4-number').value = nextDeviceNumber;
        document.getElementById('confirm-add-ps4').click();
    }
});

        
        document.getElementById('add-item-btn').addEventListener('click', function() {
            const itemType = document.getElementById('new-item-type').value;
            const itemName = document.getElementById('new-item-name').value;
            const itemPrice = document.getElementById('new-item-price').value;
            
            if (itemType === 'food') {
                document.getElementById('new-food-name').value = itemName;
                document.getElementById('new-food-price').value = itemPrice;
                document.getElementById('confirm-add-food').click();
            } else {
                document.getElementById('new-drink-name').value = itemName;
                document.getElementById('new-drink-price').value = itemPrice;
                document.getElementById('confirm-add-drink').click();
            }
        });
        

 
        
        // Delete functionality
        let itemToDelete = null;
        
        function setupDeleteButtons() {
            document.querySelectorAll('.delete-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const item = this.closest('.device-box, .menu-item');
                    itemToDelete = item;
                    
                    // Show confirm delete modal
                    document.getElementById('confirm-delete-modal').style.display = 'block';
                });
            });
        }
        
        // Initialize delete buttons
        setupDeleteButtons();
        
        // Confirm Delete
        document.getElementById('confirm-delete').addEventListener('click', function() {
            if (itemToDelete) {
                // Remove the item
                itemToDelete.remove();
                
                // Close modal
                document.getElementById('confirm-delete-modal').style.display = 'none';
                
                // Update delete lists
                updateDeleteLists();
                
                alert('ØªÙ… Ø­Ø°Ù Ø§Ù„Ø¹Ù†ØµØ± Ø¨Ù†Ø¬Ø§Ø­');
                
                // Reset itemToDelete
                itemToDelete = null;
            }
        });
        
        // Update Delete Lists in Settings
        function updateDeleteLists() {
            // Clear existing lists
            document.getElementById('ps5-delete-list').innerHTML = '<h4>Ø£Ø¬Ù‡Ø²Ø© PS5</h4>';
            document.getElementById('ps4-delete-list').innerHTML = '<h4>Ø£Ø¬Ù‡Ø²Ø© PS4</h4>';
            document.getElementById('food-delete-list').innerHTML = '<h4>Ø§Ù„Ù…Ø£ÙƒÙˆÙ„Ø§Øª</h4>';
            document.getElementById('drinks-delete-list').innerHTML = '<h4>Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª</h4>';
            
            // Add PS5 devices to list
            document.querySelectorAll('#ps5-devices .device-box').forEach(device => {
                const deviceName = device.querySelector('h3').textContent.trim().split('\n')[0].trim();
                const deviceId = device.getAttribute('data-id');
                
                const deleteItem = document.createElement('div');
                deleteItem.className = 'delete-item';
                deleteItem.innerHTML = `
                    <span>${deviceName}</span>
                    <button class="delete-item-btn" data-id="${deviceId}">Ø­Ø°Ù</button>
                `;
                
                document.getElementById('ps5-delete-list').appendChild(deleteItem);
            });
            
            // Add PS4 devices to list
            document.querySelectorAll('#ps4-devices .device-box').forEach(device => {
                const deviceName = device.querySelector('h3').textContent.trim().split('\n')[0].trim();
                const deviceId = device.getAttribute('data-id');
                
                const deleteItem = document.createElement('div');
                deleteItem.className = 'delete-item';
                deleteItem.innerHTML = `
                    <span>${deviceName}</span>
                    <button class="delete-item-btn" data-id="${deviceId}">Ø­Ø°Ù</button>
                `;
                
                document.getElementById('ps4-delete-list').appendChild(deleteItem);
            });
            
            // Add food items to list
            document.querySelectorAll('#food-container .menu-item').forEach(item => {
                const itemName = item.querySelector('.menu-item-name').textContent;
                const itemId = item.getAttribute('data-id');
                
                const deleteItem = document.createElement('div');
                deleteItem.className = 'delete-item';
                deleteItem.innerHTML = `
                    <span>${itemName}</span>
                    <button class="delete-item-btn" data-id="${itemId}">Ø­Ø°Ù</button>
                `;
                
                document.getElementById('food-delete-list').appendChild(deleteItem);
            });
            
            // Add drink items to list
            document.querySelectorAll('#drinks-container .menu-item').forEach(item => {
                const itemName = item.querySelector('.menu-item-name').textContent;
                const itemId = item.getAttribute('data-id');
                
                const deleteItem = document.createElement('div');
                deleteItem.className = 'delete-item';
                deleteItem.innerHTML = `
                    <span>${itemName}</span>
                    <button class="delete-item-btn" data-id="${itemId}">Ø­Ø°Ù</button>
                `;
                
                document.getElementById('drinks-delete-list').appendChild(deleteItem);
            });
            
            // Setup delete buttons in lists
            document.querySelectorAll('.delete-item-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const itemId = this.getAttribute('data-id');
                    const itemToRemove = document.querySelector(`[data-id="${itemId}"]`);
                    
                    if (itemToRemove) {
                        // Remove the item
                        itemToRemove.remove();
                        
                        // Remove from delete list
                        this.closest('.delete-item').remove();
                        
                        alert('ØªÙ… Ø­Ø°Ù Ø§Ù„Ø¹Ù†ØµØ± Ø¨Ù†Ø¬Ø§Ø­');
                    }
                });
            });
        }
        
        // Initialize delete lists
        updateDeleteLists();
        
        // Daily Report functionality
        function updateReportDate() {
            const today = new Date();
            const formattedDate = today.toLocaleDateString('ar-EG', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            
            document.getElementById('report-date').textContent = formattedDate;
            
            // Set date picker to today
            const datePicker = document.getElementById('report-date-picker');
            datePicker.value = today.toISOString().split('T')[0];
        }
        
        // Initialize report date
        updateReportDate();
        
        // Update report data
        function updateReportData() {
            // Get selected date
            const selectedDate = document.getElementById('report-date-picker').value;
            
            // Filter session data for selected date
            const filteredSessions = sessionData.filter(session => 
                session.date === selectedDate
            );
            
            // Group sessions by device
            const deviceSessions = {};
            filteredSessions.forEach(session => {
                if (!deviceSessions[session.deviceId]) {
                    deviceSessions[session.deviceId] = {
                        deviceName: session.deviceName,
                        totalTime: 0,
                        sessionCount: 0,
                        revenue: 0
                    };
                }
                
                deviceSessions[session.deviceId].totalTime += session.duration;
                deviceSessions[session.deviceId].sessionCount++;
                deviceSessions[session.deviceId].revenue += session.cost;
            });
            
            // Update devices table
            const devicesTable = document.getElementById('devices-report-table').querySelector('tbody');
            devicesTable.innerHTML = '';
            
            let totalDeviceRevenue = 0;
            
            Object.values(deviceSessions).forEach(device => {
                const hours = Math.floor(device.totalTime / 3600);
                const minutes = Math.floor((device.totalTime % 3600) / 60);
                const seconds = device.totalTime % 60;
                const formattedTime = 
                    (hours < 10 ? '0' + hours : hours) + ':' +
                    (minutes < 10 ? '0' + minutes : minutes) + ':' +
                    (seconds < 10 ? '0' + seconds : seconds);
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${device.deviceName}</td>
                    <td>${formattedTime}</td>
                    <td>${device.sessionCount}</td>
                    <td>${device.revenue.toFixed(2)} Ø¬Ù†ÙŠÙ‡</td>
                `;
                
                devicesTable.appendChild(row);
                totalDeviceRevenue += device.revenue;
            });
            
            // If no device sessions for selected date, show sample data
            if (Object.keys(deviceSessions).length === 0) {
                devicesTable.innerHTML = `
                    <tr>
                        <td>PS5 #1</td>
                        <td>3:45:00</td>
                        <td>5</td>
                        <td>187.50 Ø¬Ù†ÙŠÙ‡</td>
                    </tr>
                    <tr>
                        <td>PS5 #2</td>
                        <td>2:30:00</td>
                        <td>3</td>
                        <td>125.00 Ø¬Ù†ÙŠÙ‡</td>
                    </tr>
                    <tr>
                        <td>PS4 #1</td>
                        <td>4:15:00</td>
                        <td>6</td>
                        <td>127.50 Ø¬Ù†ÙŠÙ‡</td>
                    </tr>
                    <tr>
                        <td>PS4 #2</td>
                        <td>5:00:00</td>
                        <td>4</td>
                        <td>150.00 Ø¬Ù†ÙŠÙ‡</td>
                    </tr>
                `;
                totalDeviceRevenue = 590.00;
            }
            
            // Update food table
            const foodTable = document.getElementById('food-report-table').querySelector('tbody');
            foodTable.innerHTML = '';
            
            let totalFoodRevenue = 0;
            
            salesData.food.forEach(item => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${item.name}</td>
                    <td>${item.quantity}</td>
                    <td>${item.price} Ø¬Ù†ÙŠÙ‡</td>
                    <td>${item.total} Ø¬Ù†ÙŠÙ‡</td>
                `;
                
                foodTable.appendChild(row);
                totalFoodRevenue += item.total;
            });
            
            // Update drinks table
            const drinksTable = document.getElementById('drinks-report-table').querySelector('tbody');
            drinksTable.innerHTML = '';
            
            let totalDrinksRevenue = 0;
            
            salesData.drinks.forEach(item => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${item.name}</td>
                    <td>${item.quantity}</td>
                    <td>${item.price} Ø¬Ù†ÙŠÙ‡</td>
                    <td>${item.total} Ø¬Ù†ÙŠÙ‡</td>
                `;
                
                drinksTable.appendChild(row);
                totalDrinksRevenue += item.total;
            });
            
            // Update summary
            const totalRevenue = totalDeviceRevenue + totalFoodRevenue + totalDrinksRevenue;
            
            const summaryItems = document.querySelectorAll('.summary-item');
            summaryItems[0].querySelector('span:last-child').textContent = `${totalDeviceRevenue.toFixed(2)} Ø¬Ù†ÙŠÙ‡`;

            summaryItems[3].querySelector('span:last-child').textContent = `${totalRevenue.toFixed(2)} Ø¬Ù†ÙŠÙ‡`;
        }
        
        // Generate report button
        document.getElementById('generate-report').addEventListener('click', function() {
            updateReportData();
            
            // Update report date display
            const selectedDate = document.getElementById('report-date-picker').value;
            const date = new Date(selectedDate);
            const formattedDate = date.toLocaleDateString('ar-EG', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            
            document.getElementById('report-date').textContent = formattedDate;
            
            alert('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­');
        });
        
        // View daily report from settings
        document.getElementById('view-daily-report').addEventListener('click', function() {
            showPage('report');
            updateReportDate();
            updateReportData();
        });
        
        // Print report
        document.getElementById('print-report').addEventListener('click', function() {
            window.print();
        });
        
        // Export report as PDF
        document.getElementById('export-report').addEventListener('click', function() {
            alert('Ø³ÙŠØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„ØªÙ‚Ø±ÙŠØ± ÙƒÙ…Ù„Ù PDF');
            window.print(); // In a real app, this would use a PDF library
        });
        
         
        // Load settings on startup (basic example)
        function loadSettings() {
            // In a real app, load from localStorage or server
            console.log('Loading settings...');
            // Example: Set default values if needed, or load saved ones
            // document.getElementById('ps5-price').value = localStorage.getItem('ps5Price') || 50;
            // document.getElementById('ps4-price').value = localStorage.getItem('ps4Price') || 30;
            // document.getElementById('multiplayer-price-multiplier').value = localStorage.getItem('multiMultiplier') || 1.5;
        }
        loadSettings();

        // Initialize report data
        updateReportData();
document.getElementById('add-ps5-btn').addEventListener('click', function () {
  const ps5Devices = document.querySelectorAll('#ps5-devices .device-box');
  const nextNumber = ps5Devices.length + 1;
  const uniqueId = 'ps5-' + nextNumber;

  const ps5Container = document.getElementById('ps5-devices');
  const newDevice = document.createElement('div');
  newDevice.className = 'device-box';
  newDevice.setAttribute('data-id', uniqueId);
  newDevice.innerHTML = `
    <button class="delete-btn" title="Ø­Ø°Ù">Ã—</button>
    <h3>Ø¬Ù‡Ø§Ø² PS5 #${nextNumber} <span class="status available">Ù…ØªØ§Ø­</span></h3>
    <div class="device-info">
      <p>Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø³ØªÙ‡Ù„Ùƒ: <span class="timer">00:00:00</span></p>
      <p>Ø§Ù„ØªÙƒÙ„ÙØ©: <span class="cost">0.00</span> Ø¬Ù†ÙŠÙ‡</p>
    </div>
    <div class="device-actions">
      <button class="control-btn start-btn">Ø¨Ø¯Ø¡</button>
      <button class="control-btn multiplayer-btn" title="ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ø²ÙˆØ¬ÙŠ">2P</button>
      <button class="control-btn add-product-btn" title="Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬">+</button>
      <button class="control-btn stop-btn" disabled>Ø¥ÙŠÙ‚Ø§Ù</button>
    </div>
  `;

  const addBtnContainer = document.querySelector('#ps5-devices .add-new-container');
  ps5Container.insertBefore(newDevice, addBtnContainer);

  // ØªÙØ¹ÙŠÙ„ Ø²Ø± Ø§Ù„Ø­Ø°Ù
  newDevice.querySelector('.delete-btn').onclick = () => {
    newDevice.remove();
    updateDeviceNumbers('ps5-devices', 'PS5');
  };

  // ØªÙØ¹ÙŠÙ„ Ø²Ø± Ø§Ù„Ù…Ù†ØªØ¬ +
  newDevice.querySelector('.add-product-btn').onclick = () => {
    const productName = prompt("Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬:");
    if (!productName) return;

    const productPrice = parseFloat(prompt("Ø³Ø¹Ø± Ø§Ù„Ù…Ù†ØªØ¬ØŸ"));
    if (isNaN(productPrice)) return;

    if (!deviceProducts[uniqueId]) deviceProducts[uniqueId] = [];
    deviceProducts[uniqueId].push({ name: productName, price: productPrice });

    alert(`ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© ${productName} Ø¨Ø³Ø¹Ø± ${productPrice} Ø¬Ù†ÙŠÙ‡`);
  };

  // ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø¤Ù‚Øª ÙˆØ§Ù„Ù€ 2P
  setupDeviceTimers();
});


document.getElementById('add-ps4-btn').addEventListener('click', function () {
  const ps4Devices = document.querySelectorAll('#ps4-devices .device-box');
  const nextNumber = ps4Devices.length + 1;
  const uniqueId = 'ps4-' + nextNumber;

  const ps4Container = document.getElementById('ps4-devices');
  const newDevice = document.createElement('div');
  newDevice.className = 'device-box';
  newDevice.setAttribute('data-id', uniqueId);
  newDevice.innerHTML = `
    <button class="delete-btn" title="Ø­Ø°Ù">Ã—</button>
    <h3>Ø¬Ù‡Ø§Ø² PS4 #${nextNumber} <span class="status available">Ù…ØªØ§Ø­</span></h3>
    <div class="device-info">
      <p>Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø³ØªÙ‡Ù„Ùƒ: <span class="timer">00:00:00</span></p>
      <p>Ø§Ù„ØªÙƒÙ„ÙØ©: <span class="cost">0.00</span> Ø¬Ù†ÙŠÙ‡</p>
    </div>
    <div class="device-actions">
      <button class="control-btn start-btn">Ø¨Ø¯Ø¡</button>
      <button class="control-btn multiplayer-btn" title="ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ø²ÙˆØ¬ÙŠ">2P</button>
      <button class="control-btn add-product-btn" title="Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬">+</button>
      <button class="control-btn stop-btn" disabled>Ø¥ÙŠÙ‚Ø§Ù</button>
    </div>
  `;

  const addBtnContainer = document.querySelector('#ps4-devices .add-new-container');
  ps4Container.insertBefore(newDevice, addBtnContainer);

  // ØªÙØ¹ÙŠÙ„ Ø²Ø± Ø§Ù„Ø­Ø°Ù
  newDevice.querySelector('.delete-btn').onclick = () => {
    newDevice.remove();
    updateDeviceNumbers('ps4-devices', 'PS4');
  };

  // ØªÙØ¹ÙŠÙ„ Ø²Ø± Ø§Ù„Ù…Ù†ØªØ¬ +
  newDevice.querySelector('.add-product-btn').onclick = () => {
    const productName = prompt("Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬:");
    if (!productName) return;

    const productPrice = parseFloat(prompt("Ø³Ø¹Ø± Ø§Ù„Ù…Ù†ØªØ¬ØŸ"));
    if (isNaN(productPrice)) return;

    if (!deviceProducts[uniqueId]) deviceProducts[uniqueId] = [];
    deviceProducts[uniqueId].push({ name: productName, price: productPrice });

    alert(`ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© ${productName} Ø¨Ø³Ø¹Ø± ${productPrice} Ø¬Ù†ÙŠÙ‡`);
  };

  // ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø¤Ù‚Øª ÙˆØ§Ù„Ù€ 2P
  setupDeviceTimers();
});




function setupDeleteButtons() {
  const deleteButtons = document.querySelectorAll('.delete-btn');
  deleteButtons.forEach(deleteBtn => {
    deleteBtn.onclick = function () {
      const deviceBox = deleteBtn.closest('.device-box');
      if (deviceBox) deviceBox.remove();
    };
  });
}





function setupAddProductButtons() {
  const addButtons = document.querySelectorAll('.add-product-btn');
  addButtons.forEach(button => {
    button.onclick = function () {
      const deviceBox = button.closest('.device-box');
      const deviceId = deviceBox.getAttribute('data-id');

      // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬
      const productName = prompt("Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬:");
      if (!productName) return;

      const priceInput = prompt("Ø³Ø¹Ø± Ø§Ù„Ù…Ù†ØªØ¬ØŸ");
      const productPrice = parseFloat(priceInput);
      if (isNaN(productPrice)) {
        alert("Ø³Ø¹Ø± ØºÙŠØ± ØµØ§Ù„Ø­");
        return;
      }

      // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø¥Ù„Ù‰ Ø§Ù„Ø¬Ù‡Ø§Ø²
      if (!deviceProducts[deviceId]) {
        deviceProducts[deviceId] = [];
      }
      deviceProducts[deviceId].push({ 
        name: productName, 
        price: productPrice 
      });

      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ù…Ø¨Ø§Ø´Ø±Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø¶Ø§ÙØ©
      updateReportTable(); // <-- Ù‡Ø°Ø§ Ø§Ù„Ø³Ø·Ø± Ø§Ù„Ù†Ø§Ù‚Øµ

      alert(`ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© ${productName} Ø¨Ø³Ø¹Ø± ${productPrice} Ø¬Ù†ÙŠÙ‡ Ø¥Ù„Ù‰ ${deviceId}`);
    };
  });
}
// ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
function updateReportTable() {
    const tbody = document.getElementById('report-table-body');
    tbody.innerHTML = '';

    sessionRecords.forEach(record => {
        // Ø¥Ù†Ø´Ø§Ø¡ ØµÙ ÙˆØ§Ø­Ø¯ Ù„ÙƒÙ„ Ø¬Ù„Ø³Ø©
        const row = document.createElement('tr');
        
        // Ø¬Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ø³Ù„Ø³Ù„Ø© Ù†ØµÙŠØ© ÙˆØ§Ø­Ø¯Ø©
        const productsList = record.products.map(product => 
            `${product.name} (${product.price.toFixed(2)} Ø¬Ù†ÙŠÙ‡)`
        ).join('ØŒ ');

        row.innerHTML = `
            <td>${record.deviceName}</td>
            <td>${record.startTime.toLocaleTimeString()} - ${record.endTime.toLocaleTimeString()}</td>
            <td>${formatTime(record.duration, record.isMultiplayer)}</td>
            <td>${record.cost.toFixed(2)} Ø¬Ù†ÙŠÙ‡</td>
            <td>${productsList || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯'}</td>
            <td>${record.products.reduce((sum, p) => sum + p.price, 0).toFixed(2)} Ø¬Ù†ÙŠÙ‡</td>
        `;

        tbody.appendChild(row);
    });
}
setupAddProductButtons();

function formatTime(seconds, isMultiplayer) {
    const hours = Math.floor(seconds / 3600);
    const minutes = Math.floor((seconds % 3600) / 60);
    const type = isMultiplayer === true ? 'Ø²ÙˆØ¬ÙŠ' : isMultiplayer === false ? 'ÙØ±Ø¯ÙŠ' : 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';
    return `${hours} Ø³Ø§Ø¹Ø© ${minutes} Ø¯Ù‚ÙŠÙ‚Ø© (${type})`;
}
function generateTextReportForDate(dateKey) {
    const sessions = dailyReports[dateKey];
    if (!sessions || sessions.length === 0) return;

    let content = `***************\nğŸ—“ï¸ ${formatArabicDate(dateKey)}\n***************\n\n`;
    let total = 0;

    sessions.forEach(s => {
        const start = new Date(s.startTime).toLocaleTimeString();
        const end = new Date(s.endTime).toLocaleTimeString();
        const hours = Math.floor(s.duration / 3600);
        const minutes = Math.floor((s.duration % 3600) / 60);
        const type = s.isMultiplayer === true ? 'Ø²ÙˆØ¬ÙŠ' : s.isMultiplayer === false ? 'ÙØ±Ø¯ÙŠ' : 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';
        const products = s.products.map(p => `${p.name} (${p.price.toFixed(2)} Ø¬Ù†ÙŠÙ‡)`).join('ØŒ ') || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯';
        const productTotal = s.products.reduce((sum, p) => sum + p.price, 0);
        const sessionTotal = s.cost + productTotal;
        total += sessionTotal;

        content += `Ø§Ù„Ø¬Ù‡Ø§Ø²: ${s.deviceName}\n`;
        content += `Ø§Ù„ÙˆÙ‚Øª: ${start} - ${end}\n`;
        content += `Ø§Ù„Ù…Ø¯Ø©: ${hours} Ø³Ø§Ø¹Ø© ${minutes} Ø¯Ù‚ÙŠÙ‚Ø© (${type})\n`;
        content += `Ø³Ø¹Ø± Ø§Ù„ÙˆÙ‚Øª: ${s.cost.toFixed(2)} Ø¬Ù†ÙŠÙ‡\n`;
        content += `Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª: ${products}\n`;
        content += `Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${sessionTotal.toFixed(2)} Ø¬Ù†ÙŠÙ‡\n\n`;
    });

    content += `Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª: ${total.toFixed(2)} Ø¬Ù†ÙŠÙ‡`;

    const blob = new Blob([content], { type: 'text/plain' });
    const url = URL.createObjectURL(blob);
    const link = document.getElementById('download-txt');
    link.href = url;
    link.download = `report-${dateKey}.txt`;
}
function formatArabicDate(dateStr) {
    const date = new Date(dateStr);
    return date.toLocaleDateString('ar-EG', {
        weekday: 'long',
        year: 'numeric',
        month: 'long',
        day: 'numeric'
    });
}


 </script>
</body>
</html>
